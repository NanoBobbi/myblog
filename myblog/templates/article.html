{% extends 'base.html' %}
<link rel="stylesheet" href="../static/editormd/css/editormd.css">
{% block content %}
    <header style="padding: 30px">
        <h1>{{ article.title }}</h1>
        <h5 class="text-muted">类型：{{article.category.name}} <br>
            {{ article.timestamp }}</h5>
    </header>
    <main class="row">
        <div class="col-md-8">
            <article style="padding: 0 30px">
                <div id="test">
                <textarea id="append-test" style="display:none;">{{ article.content }}
                </textarea>
                </div>
            </article>
        </div>
        {% include 'aside.html' %}
    </main>

    <script src="../static/js/jquery-3.5.1.min.js"></script>
    <script src="../static/editormd/editormd.min.js"></script>
    <script src="../static/editormd/lib/marked.min.js"></script>
    <script src="../static/editormd/lib/prettify.min.js"></script>
    <script type="text/javascript">
        $(function () {
            var test = editormd.markdownToHTML("test", {
                //tex:true
                //markdown: "markdown" + $("#append-test").text(),
                width: "80%",
                path: "../static/editormd/lib/",
                htmlDecode: "style,script,iframe", // you can filter tags decode
                emoji: true,
                taskList: true,
                tex: true, // 默认不解析
            });
        });
    </script>
{% endblock %}
