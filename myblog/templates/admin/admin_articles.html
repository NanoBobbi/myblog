{% extends 'admin/admin_base.html' %}
{% block content %}
{#    <link rel="stylesheet" href="../../static/layui/css/layui.css">#}
    <main class="layui-container">
        <table class="layui-table" lay-even lay-size="lg">
            <colgroup>
                <col width="100">
                <col width="100">
{#                <col width="100">#}
            </colgroup>
            <thead>
            <tr>
                <th>id</th>
                <th>类型</th>
                <th>标题</th>
                <th>操作</th>
                <th>时间</th>
            </tr>
            </thead>
            {% if  articles %}
                {% for article in articles %}
                    <tr>
                        <td>{{ article.id }}</td>
                        <td>{{ article.category.name }}</td>
                        <td>{{ article.title }}</td>
                        <td>
                            <form action=" {{ url_for('delete_article', article_id=article.id) }} " method="post"
                                  class="inline-form">
                                <input type="submit" name="delete" value="Delete"
                                       onclick=" return confirm('Are you sure ?')"
                                       class="btn">
                            </form>
                            <form action=" {{ url_for('edit_article', article_id=article.id) }} " method="post"
                                  class="inline-form">
                                <input type="submit" name="eidt" value="edit"
                                       class="btn">
                            </form>
                        </td>
                        <td>{{ article.timestamp }}</td>
                    </tr>
                {% endfor %}
            {% endif %}
        </table>
    </main>
    {% import 'pagination.html' as pg %}
    {{ pg.my_paginate(pagination, 'admin_articles') }}
    {#<table class="layui-table layui-hide" lay-even lay-size="lg" id="demo">#}
    {#    <colgroup>#}
    {#        <col width="100">#}
    {#        <col width="200">#}
    {#        <col width="200">#}
    {#        <col width="400">#}
    {#    </colgroup>#}
    {#    <thead>#}
    {#    <tr>#}
    {#        <th>id</th>#}
    {#        <th>标题</th>#}
    {#        <th>日期</th>#}
    {#        <th>内容</th>#}
    {#    </tr>#}
    {#    </thead>#}
    {#    <tbody>#}
    {#    <tr>#}
    {#        <td>贤心</td>#}
    {#        <td>2016-11-29</td>#}
    {#        <td>人生就像是一场修行</td>#}
    {#        <td>人生就像是一场修行</td>#}
    {#    </tr>#}
    {#    <tr>#}
    {#        <td>许闲心</td>#}
    {#        <td>2016-11-28</td>#}
    {#        <td>2016-11-28</td>#}
    {#        <td>2016-11-28</td>#}
    {#    </tr>#}
    {#    </tbody>#}
    {#</table>#}
    {#<script type="text/html" id="barDemo">#}
    {#  <a class="layui-btn layui-btn-primary layui-btn-xs" lay-event="detail">查看</a>#}
    {#  <a class="layui-btn layui-btn-xs" lay-event="edit">编辑</a>#}
    {#  <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>#}
    {#</script>#}

    <script src="../../static/js/jquery-3.5.1.min.js"></script>
    <script src="../../static/editormd/editormd.js"></script>
    {#<script src="../../static/layui/layui.all.js"></script>#}
    <script type="text/javascript">
        $(function () {
            editormd("fancy-editormd", {
                // width: "100%", 请不要添加
                height: 640,
                syncScrolling: "single",
                path: "../../static/editormd/lib/",
                saveHTMLToTextarea: true
            });
        });
    </script>

    <script>
        //Demo
        layui.use('form', function () {
            var form = layui.form;

            //监听提交
            form.on('submit(formDemo)', function (data) {
                layer.msg(JSON.stringify(data.field));
                return false;
            });
        });
    </script>
    {#<button>delete</button>#}
    {#<a href="#">edit</a>#}
{% endblock %}